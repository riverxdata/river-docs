<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Containers in Bioinformatics: Community Tooling and Efficient Docker Building | RiverXData</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://riverxdata.github.io/river-docs/blog/bioinformatics-containers-build-efficient-docker"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="keywords" content="bioinformatics, data, infrastructure, hpc, cloud"><meta data-rh="true" name="author" content="RiverXData Team"><meta data-rh="true" property="og:title" content="Containers in Bioinformatics: Community Tooling and Efficient Docker Building | RiverXData"><meta data-rh="true" name="description" content="Docker containers are revolutionizing bioinformatics by automating reproducibility and portability across platforms. But what problems can they actually solve? This post shows real-world applications of containers in bioinformatics workflows, then guides you through the simplest possible ways to use, build and debug them."><meta data-rh="true" property="og:description" content="Docker containers are revolutionizing bioinformatics by automating reproducibility and portability across platforms. But what problems can they actually solve? This post shows real-world applications of containers in bioinformatics workflows, then guides you through the simplest possible ways to use, build and debug them."><meta data-rh="true" property="og:image" content="https://riverxdata.github.io/river-docs/assets/images/intro-7aaa912f8e48c1bb524eacaf56d8a3cd.png"><meta data-rh="true" name="twitter:image" content="https://riverxdata.github.io/river-docs/assets/images/intro-7aaa912f8e48c1bb524eacaf56d8a3cd.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2026-02-09T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://www.facebook.com/nttg8100"><meta data-rh="true" property="article:tag" content="docker,bioinformatics,bioconda,nextflow,best-practices"><link data-rh="true" rel="icon" href="/river-docs/img/logo-riverxdata-02.png"><link data-rh="true" rel="canonical" href="https://riverxdata.github.io/river-docs/blog/bioinformatics-containers-build-efficient-docker"><link data-rh="true" rel="alternate" href="https://riverxdata.github.io/river-docs/blog/bioinformatics-containers-build-efficient-docker" hreflang="en"><link data-rh="true" rel="alternate" href="https://riverxdata.github.io/river-docs/blog/bioinformatics-containers-build-efficient-docker" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://riverxdata.github.io/river-docs/blog/bioinformatics-containers-build-efficient-docker","mainEntityOfPage":"https://riverxdata.github.io/river-docs/blog/bioinformatics-containers-build-efficient-docker","url":"https://riverxdata.github.io/river-docs/blog/bioinformatics-containers-build-efficient-docker","headline":"Containers in Bioinformatics: Community Tooling and Efficient Docker Building","name":"Containers in Bioinformatics: Community Tooling and Efficient Docker Building","description":"Docker containers are revolutionizing bioinformatics by automating reproducibility and portability across platforms. But what problems can they actually solve? This post shows real-world applications of containers in bioinformatics workflows, then guides you through the simplest possible ways to use, build and debug them.","datePublished":"2026-02-09T00:00:00.000Z","author":{"@type":"Person","name":"Thanh-Giang Tan Nguyen","description":"Founder at RIVER","url":"https://www.facebook.com/nttg8100","email":"nttg8100@gmail.com","image":"https://avatars.githubusercontent.com/u/64969412?v=4"},"image":{"@type":"ImageObject","@id":"https://riverxdata.github.io/river-docs/assets/images/intro-7aaa912f8e48c1bb524eacaf56d8a3cd.png","url":"https://riverxdata.github.io/river-docs/assets/images/intro-7aaa912f8e48c1bb524eacaf56d8a3cd.png","contentUrl":"https://riverxdata.github.io/river-docs/assets/images/intro-7aaa912f8e48c1bb524eacaf56d8a3cd.png","caption":"title image for the blog post: Containers in Bioinformatics: Community Tooling and Efficient Docker Building"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://riverxdata.github.io/river-docs/blog","name":"RiverXData Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/river-docs/blog/rss.xml" title="RiverXData RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/river-docs/blog/atom.xml" title="RiverXData Atom Feed">





<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0BBYTVWQV2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0BBYTVWQV2",{anonymize_ip:!0})</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/river-docs/assets/css/styles.486b8637.css">
<script src="/river-docs/assets/js/runtime~main.63d9807a.js" defer="defer"></script>
<script src="/river-docs/assets/js/main.c967cf1d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/river-docs/img/logo-riverxdata-02.png"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/64969412?v=4"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#667eea;color:#ffffff" role="banner"><div class="content_knG7 announcementBarContent_xLdY">Comming soon: Support us on GitHub Sponsors! ‚ù§Ô∏è</div></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/river-docs/"><div class="navbar__logo"><img src="/river-docs/img/logo-riverxdata-02.png" alt="RiverXData" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/river-docs/img/logo-riverxdata-02.png" alt="RiverXData" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/river-docs/docs/overview">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/river-docs/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/riverxdata/river" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="paper" style="width:95%;margin:auto;margin-top:50px"><div class="row" style="width:100%"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2026</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/setup-local-nextflow-training">Setting Up a Local Nextflow Training Environment with Code-Server and HPC</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/docker-out-docker-bioinformatics-web-apps">Docker Out of Docker: Running Interactive Web Applications for Data Analysis</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/containers-hpc-docker-singularity-apptainer">Containers on HPC: From Docker to Singularity and Apptainer</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/migrate-bash-nextflow-enterprise-pipeline">How to Migrate from In-House Pipelines to Enterprise-Level Workflows: A Proven 3-Step Validation Framework</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/unix-pipes-bioinformatics-streaming-data">Unix Pipes in Bioinformatics: How Streaming Data Reduces Memory and Storage</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/river-docs/blog/bioinformatics-containers-build-efficient-docker">Containers in Bioinformatics: Community Tooling and Efficient Docker Building</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/river-docs/blog/bioinformatics-containers-build-efficient-docker">Containers in Bioinformatics: Community Tooling and Efficient Docker Building</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/bioinformatics-workflow-template-ci-cd-best-practices">Bioinformatics Workflow Template: Standardizing Python Pipelines with Modular Design</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/cicd-bioinformatics-act-local-github-action">Running GitHub Actions Locally with act: 5x Faster Development</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/machine-learning-bioinformatics-part1-knn">Machine Learning in Bioinformatics Part 1: Building KNN from Scratch</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/intro-ai-ml-bioinformatics-applications">Introduction to AI/ML in Bioinformatics: Classification Models &amp; Evaluation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/bioinformatics-computing-resource-optimization-part2">Bioinformatics Cost Optimization For Input Using Nextflow (Part 2)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/bioinformatics-computing-resource-optimization-part1">Bioinformatics Cost Optimization for Computing Resources Using Nextflow (Part 1)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/pixi-is-new-conda-based-era">Pixi- New conda era</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/how-to-version-control-git-bioinformatics-part-2">The Evolution of Version Control - CI/CD in bioinformatics (Part 2)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/how-to-version-control-git-bioinformatics-part-1">The Evolution of Version Control - Git&#x27;s Role in Reproducible Bioinformatics (Part 1)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/how-to-build-slurm-hpc-part-3">Building a Slurm HPC Cluster (Part 3) - Administration and Best Practices</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/how-to-build-slurm-hpc-part-2">Building a Slurm HPC Cluster (Part 2) - Scaling to Production with Ansible</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/how-to-build-slurm-hpc-part-1">Building a Slurm HPC Cluster (Part 1) - Single Node Setup and Fundamentals</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/river-docs/blog/river-platform-and-nextflow">RIVER- A Web Application to Run Nf-Core</a></li></ul></div></nav></aside><main class="col col--6"><article class=""><header><h1 class="title_f1Hy">Containers in Bioinformatics: Community Tooling and Efficient Docker Building</h1><div class="container_mt6G margin-vert--md"><time datetime="2026-02-09T00:00:00.000Z">February 9, 2026</time> ¬∑ <!-- -->21 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link" href="/river-docs/blog/authors/river"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/64969412?v=4" alt="Thanh-Giang Tan Nguyen"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="/river-docs/blog/authors/river"><span class="authorName_yefp" translate="no">Thanh-Giang Tan Nguyen</span></a></div><small class="authorTitle_nd0D" title="Founder at RIVER">Founder at RIVER</small><div class="authorSocials_rSDt"><a href="https://www.linkedin.com/in/thanh-giang-tan-nguyen-761b28190/" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid" viewBox="0 0 256 256" style="--dark:#0a66c2;--light:#ffffffe6" class="authorSocialIcon_XYv3 linkedinSvg_FCgI"><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453"></path></svg></a><a href="https://github.com/nttg8100" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialIcon_XYv3 githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>Docker containers are revolutionizing bioinformatics by automating reproducibility and portability across platforms. But what problems can they actually solve? This post shows real-world applications of containers in bioinformatics workflows, then guides you through the simplest possible ways to use, build and debug them.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="prerequisites-get-docker-installed-and-running">Prerequisites: Get Docker Installed and Running<a href="#prerequisites-get-docker-installed-and-running" class="hash-link" aria-label="Direct link to Prerequisites: Get Docker Installed and Running" title="Direct link to Prerequisites: Get Docker Installed and Running" translate="no">‚Äã</a></h2>
<p>Before reading this blog, <strong>you need Docker installed on your system</strong>. This blog assumes you already have Docker up and running and covers how to effectively use containers for bioinformatics work.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="start-here-first">Start Here First<a href="#start-here-first" class="hash-link" aria-label="Direct link to Start Here First" title="Direct link to Start Here First" translate="no">‚Äã</a></h3>
<p>If Docker is not yet installed on your machine, visit the official Docker documentation:</p>
<p><strong>üì¶ <a href="https://docs.docker.com/get-started/get-docker/" target="_blank" rel="noopener noreferrer" class="">https://docs.docker.com/get-started/get-docker/</a></strong></p>
<p>This guide will walk you through:</p>
<ul>
<li class=""><strong>Installing Docker Desktop</strong> (Mac, Windows, Linux)</li>
<li class=""><strong>Verifying your installation</strong> with <code>docker --version</code></li>
<li class=""><strong>Running your first container</strong> with <code>docker run hello-world</code></li>
<li class=""><strong>Understanding Docker basics</strong> (images, containers, registries)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-you-need-to-know">What You Need to Know<a href="#what-you-need-to-know" class="hash-link" aria-label="Direct link to What You Need to Know" title="Direct link to What You Need to Know" translate="no">‚Äã</a></h3>
<p>After installing Docker, verify it&#x27;s working:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># Check Docker version</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--version</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Output: Docker version 24.0.0, build 12345abc</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Run a test container</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run hello-world</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Output: Hello from Docker! This message shows that your installation appears to be working correctly.</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="about-this-blog">About This Blog<a href="#about-this-blog" class="hash-link" aria-label="Direct link to About This Blog" title="Direct link to About This Blog" translate="no">‚Äã</a></h3>
<p>Once Docker is installed and working, this blog will teach you:</p>
<ol>
<li class=""><strong>Why manual installation fails</strong> and how containers solve reproducibility problems</li>
<li class=""><strong>How to use Docker containers</strong> for bioinformatics data analysis</li>
<li class=""><strong>How to build efficient Docker images</strong> with best practices</li>
<li class=""><strong>How to build containers with Micromamba and Pixi</strong> for bioinformatics workflows</li>
<li class=""><strong>How to find pre-built containers</strong> before building from scratch</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="prerequisites-checklist">Prerequisites Checklist<a href="#prerequisites-checklist" class="hash-link" aria-label="Direct link to Prerequisites Checklist" title="Direct link to Prerequisites Checklist" translate="no">‚Äã</a></h3>
<p>Before continuing, verify you have:</p>
<ul>
<li class="">‚úÖ Docker installed (<code>docker --version</code> works)</li>
<li class="">‚úÖ Docker daemon running (or Docker Desktop active)</li>
<li class="">‚úÖ Can pull images (<code>docker pull hello-world</code> works)</li>
<li class="">‚úÖ Basic familiarity with command line/terminal</li>
<li class="">‚úÖ (Optional but helpful) Nextflow installed for pipeline examples</li>
</ul>
<p><strong>Not ready?</strong> Go to <a href="https://docs.docker.com/get-started/get-docker/" target="_blank" rel="noopener noreferrer" class="">https://docs.docker.com/get-started/get-docker/</a> first, then come back here!</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-why-manual-installation-fails-the-old-way-vs-modern-containers">1. Why Manual Installation Fails: The Old Way vs. Modern Containers<a href="#1-why-manual-installation-fails-the-old-way-vs-modern-containers" class="hash-link" aria-label="Direct link to 1. Why Manual Installation Fails: The Old Way vs. Modern Containers" title="Direct link to 1. Why Manual Installation Fails: The Old Way vs. Modern Containers" translate="no">‚Äã</a></h2>
<p>Traditionally, bioinformatics labs installed software on shared servers or laptops using commands like:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">install</span><span class="token plain"> samtools bwa python3</span><br></span></code></pre></div></div>
<p>While this seems easy, it creates major reproducibility, portability, and maintenance headaches:</p>
<ul>
<li class=""><strong>Manual Steps:</strong> Each researcher (or lab) performs installs slightly differently. Written instructions, scripts, and troubleshooting steps are often lost, mixed, or outdated.</li>
<li class=""><strong>Not Reproducible:</strong> No record of what was installed, which versions, or the exact order. Over time, software updates, conflicts, and broken dependencies accumulate, leading to the &quot;works for me&quot; problem.</li>
<li class=""><strong>Hard to Debug:</strong> Version mismatches, library conflicts, and subtle errors are almost impossible to diagnose or fix once the environment drifts.</li>
<li class=""><strong>Not Portable:</strong> Scripts break on macOS, Windows, or other Linux variants. HPC systems often restrict sudo/root access, making traditional installs impossible.</li>
</ul>
<p><strong>Result:</strong> Collaboration across labs, institutions, or countries becomes fragile. Reproducing results‚Äîeven on your own machine‚Äîcan be a challenge!</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-modern-solution-containers-and-community-tooling">The Modern Solution: Containers and Community Tooling<a href="#the-modern-solution-containers-and-community-tooling" class="hash-link" aria-label="Direct link to The Modern Solution: Containers and Community Tooling" title="Direct link to The Modern Solution: Containers and Community Tooling" translate="no">‚Äã</a></h3>
<p>Today, bioinformatics has largely replaced manual installs with containers and environment managers:</p>
<ul>
<li class=""><strong>BioConda:</strong> Over 8000 bioinformatics packages can be installed reproducibly via Conda.</li>
<li class=""><strong>BioContainers:</strong> Automatically generates Docker containers for each tool, available at <a href="https://quay.io/organization/biocontainers" target="_blank" rel="noopener noreferrer" class="">quay.io/biocontainers</a>.<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> pull quay.io/biocontainers/samtools:1.15.1--h1170115_0</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>Seqera/Nextflow/nf-core:</strong> Pipelines with environment definitions (Conda, Docker, Singularity) are shared and run identically everywhere.</li>
</ul>
<p><em>Bottom line:</em> Containers and Conda have solved the nightmare of manual installs, making reproducible science and collaboration routine in bioinformatics.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-using-docker-containers-for-bioinformatics-data-analysis">2. Using Docker Containers for Bioinformatics Data Analysis<a href="#2-using-docker-containers-for-bioinformatics-data-analysis" class="hash-link" aria-label="Direct link to 2. Using Docker Containers for Bioinformatics Data Analysis" title="Direct link to 2. Using Docker Containers for Bioinformatics Data Analysis" translate="no">‚Äã</a></h2>
<p>One of the biggest advantages of Docker is the ability to run bioinformatics tools directly‚Äîwithout any installation‚Äîon your own datasets. Here‚Äôs a practical example using FastQC, a widely used quality control tool for sequencing data.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-run-fastqc-from-a-container">Example: Run FastQC from a Container<a href="#example-run-fastqc-from-a-container" class="hash-link" aria-label="Direct link to Example: Run FastQC from a Container" title="Direct link to Example: Run FastQC from a Container" translate="no">‚Äã</a></h3>
<ol>
<li class="">
<p><strong>Pull the FastQC container (only needed once):</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> pull quay.io/biocontainers/fastqc:</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">version</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Replace &lt;version&gt; with the specific tag, e.g. 0.11.9--hdfd78af_1</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Run FastQC, mounting your data folder:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token string environment constant" style="color:hsl(35, 99%, 36%)">$PWD</span><span class="token string" style="color:hsl(119, 34%, 47%)">:/data&quot;</span><span class="token plain"> quay.io/biocontainers/fastqc:</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">version</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> fastqc /data/my_reads.fastq</span><br></span></code></pre></div></div>
<ul>
<li class=""><code>--rm</code>: Automatically remove the container after it exits.</li>
<li class=""><code>-v &quot;$PWD:/data&quot;</code>: Mount your current directory (with your FASTQ file) into the container at <code>/data</code>.</li>
<li class="">The container runs the FastQC executable, analyzing the file and writing results back to your folder.</li>
</ul>
</li>
</ol>
<p><strong>Key Benefits:</strong></p>
<ul>
<li class="">No software installation or dependency headaches.</li>
<li class="">Exact version and environment guaranteed.</li>
<li class="">Can share or rerun analysis anywhere Docker is available (Linux, Mac, Windows, cloud, HPC).</li>
</ul>
<p>This approach works for thousands of bioinformatics containers‚Äîswap FastQC for Samtools, BWA, STAR, or other tools and run your analysis fully reproducibly and portable.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="running-containers-interactively">Running Containers Interactively<a href="#running-containers-interactively" class="hash-link" aria-label="Direct link to Running Containers Interactively" title="Direct link to Running Containers Interactively" translate="no">‚Äã</a></h3>
<p>Sometimes you want to run tools or explore interactively inside the container, just as if you were launching a shell. Docker makes this easy with the <code>-it</code> flags:</p>
<ul>
<li class=""><code>-i</code> keeps STDIN open (interactive input)</li>
<li class=""><code>-t</code> allocates a pseudo-terminal (TTY)</li>
</ul>
<p><strong>Example: Start an interactive shell inside the FastQC container:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-it</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token string environment constant" style="color:hsl(35, 99%, 36%)">$PWD</span><span class="token string" style="color:hsl(119, 34%, 47%)">:/data&quot;</span><span class="token plain"> quay.io/biocontainers/fastqc:</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">version</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> /bin/bash</span><br></span></code></pre></div></div>
<p>Now you‚Äôre inside the container shell:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">fastqc /data/my_reads.fastq</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">ls</span><span class="token plain"> /data</span><br></span></code></pre></div></div>
<p><strong>Benefits:</strong></p>
<ul>
<li class="">Inspect files, experiment with commands, or troubleshoot in real-time</li>
<li class="">Explore the container environment (dependencies, installed tools)</li>
<li class="">Still fully reproducible every time you launch</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="debugging-and-inspecting-a-running-docker-container">Debugging and Inspecting a Running Docker Container<a href="#debugging-and-inspecting-a-running-docker-container" class="hash-link" aria-label="Direct link to Debugging and Inspecting a Running Docker Container" title="Direct link to Debugging and Inspecting a Running Docker Container" translate="no">‚Äã</a></h3>
<p>If your container is already running (perhaps as part of a pipeline or a background process), Docker lets you connect and debug interactively using <code>docker exec</code>:</p>
<ol>
<li class="">
<p>List running containers:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">ps</span><br></span></code></pre></div></div>
<p>Note the CONTAINER ID in the output.</p>
</li>
<li class="">
<p>Start a bash shell inside the running container:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">exec</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-it</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">CONTAINER_ID</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> /bin/bash</span><br></span></code></pre></div></div>
<p>Now you can inspect files, check logs, and run additional commands inside the live container.</p>
</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="entrypoint-and-overriding-commands">ENTRYPOINT and Overriding Commands<a href="#entrypoint-and-overriding-commands" class="hash-link" aria-label="Direct link to ENTRYPOINT and Overriding Commands" title="Direct link to ENTRYPOINT and Overriding Commands" translate="no">‚Äã</a></h3>
<p>Many containers run a specific tool as their default ENTRYPOINT‚Äîfor example, FastQC containers launch FastQC automatically. However, you can temporarily override ENTRYPOINT and start a shell using:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-it</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--entrypoint</span><span class="token plain"> /bin/bash quay.io/biocontainers/fastqc:</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">version</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><br></span></code></pre></div></div>
<p>This starts an interactive shell even if the container‚Äôs Dockerfile specifies a different default command. Useful for debugging, troubleshooting, or exploring the container environment.</p>
<p><strong>Summary:</strong></p>
<ul>
<li class="">Use <code>docker exec</code> to debug running containers</li>
<li class="">Override ENTRYPOINT for interactive shells</li>
<li class="">Enables real-time troubleshooting and inspection, making containers even more flexible for science</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="running-containers-with-nextflow-inspecting-the-actual-docker-commands">Running Containers with Nextflow: Inspecting the Actual Docker Commands<a href="#running-containers-with-nextflow-inspecting-the-actual-docker-commands" class="hash-link" aria-label="Direct link to Running Containers with Nextflow: Inspecting the Actual Docker Commands" title="Direct link to Running Containers with Nextflow: Inspecting the Actual Docker Commands" translate="no">‚Äã</a></h3>
<p>When you run a Nextflow pipeline with Docker containers, Nextflow automatically generates and executes Docker commands for each task. Understanding these commands is useful for debugging, profiling, and understanding exactly what your pipeline is doing.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="where-nextflow-stores-docker-commands">Where Nextflow Stores Docker Commands<a href="#where-nextflow-stores-docker-commands" class="hash-link" aria-label="Direct link to Where Nextflow Stores Docker Commands" title="Direct link to Where Nextflow Stores Docker Commands" translate="no">‚Äã</a></h4>
<p>Nextflow creates a work directory structure where each task has its own folder containing:</p>
<ul>
<li class=""><code>.command.sh</code> - The shell script to execute</li>
<li class=""><code>.command.run</code> - The wrapper script that Nextflow uses to run the task</li>
<li class=""><code>.command.trace</code> - Task execution trace</li>
<li class=""><code>.exitcode</code> - Exit code of the task</li>
<li class="">Output files from the task</li>
</ul>
<p><strong>Directory structure:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">work/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îú‚îÄ‚îÄ ab/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ   ‚îú‚îÄ‚îÄ abc123def456.../</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .command.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .command.run</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .command.trace</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ... (output files)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ   ‚îî‚îÄ‚îÄ def789ghi012.../</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ       ‚îî‚îÄ‚îÄ ...</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îî‚îÄ‚îÄ fe/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    ‚îî‚îÄ‚îÄ 949a78b06c5fd8284aeb2f87d14f7d/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        ‚îú‚îÄ‚îÄ .command.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        ‚îú‚îÄ‚îÄ .command.run</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        ‚îî‚îÄ‚îÄ ... (task outputs)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="viewing-the-actual-docker-command">Viewing the Actual Docker Command<a href="#viewing-the-actual-docker-command" class="hash-link" aria-label="Direct link to Viewing the Actual Docker Command" title="Direct link to Viewing the Actual Docker Command" translate="no">‚Äã</a></h4>
<p>To see the exact Docker command that Nextflow executed for a specific task:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># 1. Find your task&#x27;s work directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># For example, in the pipeline output you might see:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">#   vep (ensembl-vep:115.2) [fe/949a78b...]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 2. Navigate to that directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">cd</span><span class="token plain"> work/fe/949a78b06c5fd8284aeb2f87d14f7d/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 3. View the command that was executed</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">cat</span><span class="token plain"> .command.run</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-nextflow-docker-command-for-vep-variant-effect-predictor">Example: Nextflow Docker Command for VEP (Variant Effect Predictor)<a href="#example-nextflow-docker-command-for-vep-variant-effect-predictor" class="hash-link" aria-label="Direct link to Example: Nextflow Docker Command for VEP (Variant Effect Predictor)" title="Direct link to Example: Nextflow Docker Command for VEP (Variant Effect Predictor)" translate="no">‚Äã</a></h4>
<p>Here&#x27;s a complete example of how Nextflow runs a Docker container:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">rm</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$NXF_BOXID</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&amp;&gt;</span><span class="token plain">/dev/null </span><span class="token operator" style="color:hsl(221, 87%, 60%)">||</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> stop </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$NXF_BOXID</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-i</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  --cpu-shares </span><span class="token number" style="color:hsl(35, 99%, 36%)">8192</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--memory</span><span class="token plain"> 14336m </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-e</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;NXF_TASK_WORKDIR&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-e</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;NXF_DEBUG=</span><span class="token string variable" style="color:hsl(221, 87%, 60%)">${NXF_DEBUG</span><span class="token string variable operator" style="color:hsl(221, 87%, 60%)">:=</span><span class="token string variable" style="color:hsl(221, 87%, 60%)">0}</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">your project working directory</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain">:</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">your project working directory</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-w</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token string variable" style="color:hsl(221, 87%, 60%)">$NXF_TASK_WORKDIR</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-u</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$(</span><span class="token variable function" style="color:hsl(221, 87%, 60%)">id</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-u</span><span class="token variable" style="color:hsl(221, 87%, 60%)">)</span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">:</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$(</span><span class="token variable function" style="color:hsl(221, 87%, 60%)">id</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-g</span><span class="token variable" style="color:hsl(221, 87%, 60%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--name</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$NXF_BOXID</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  community.wave.seqera.io/library/ensembl-vep:115.2--90ec797ecb088e9a </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  /bin/bash </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">your project working directory</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain">/work/fe/949a78b06c5fd8284aeb2f87d14f7d/.command.run nxf_trace</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="breaking-down-the-docker-command">Breaking Down the Docker Command<a href="#breaking-down-the-docker-command" class="hash-link" aria-label="Direct link to Breaking Down the Docker Command" title="Direct link to Breaking Down the Docker Command" translate="no">‚Äã</a></h4>
<p>Let&#x27;s understand each component:</p>
<table><thead><tr><th>Component</th><th>Purpose</th></tr></thead><tbody><tr><td><code>docker run</code></td><td>Start a new container</td></tr><tr><td><code>-i</code></td><td>Keep STDIN open (interactive)</td></tr><tr><td><code>--cpu-shares 8192</code></td><td>Allocate CPU resources (set by Nextflow from cpus directive)</td></tr><tr><td><code>--memory 14336m</code></td><td>Limit memory to 14GB (set by Nextflow from memory directive)</td></tr><tr><td><code>-e NXF_TASK_WORKDIR</code></td><td>Pass Nextflow task work directory env var</td></tr><tr><td><code>-e NXF_DEBUG=${NXF_DEBUG:=0}</code></td><td>Pass debug flag</td></tr><tr><td><code>-v /project:/project</code></td><td>Mount project directory for input/output</td></tr><tr><td><code>-w &quot;$NXF_TASK_WORKDIR&quot;</code></td><td>Set working directory inside container</td></tr><tr><td><code>-u $(id -u):$(id -g)</code></td><td>Run as current user (file permissions)</td></tr><tr><td><code>--name $NXF_BOXID</code></td><td>Name the container (cleanup reference)</td></tr><tr><td><code>image:tag</code></td><td>Container image to use</td></tr><tr><td><code>/bin/bash .command.run</code></td><td>Execute the task script</td></tr><tr><td><code>nxf_trace</code></td><td>Nextflow tracing flag</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="re-running-a-failed-task-manually">Re-Running a Failed Task Manually<a href="#re-running-a-failed-task-manually" class="hash-link" aria-label="Direct link to Re-Running a Failed Task Manually" title="Direct link to Re-Running a Failed Task Manually" translate="no">‚Äã</a></h4>
<p>If a task fails in Nextflow, you can manually re-run it for debugging:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># 1. Navigate to the task work directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">cd</span><span class="token plain"> work/fe/949a78b06c5fd8284aeb2f87d14f7d/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 2. View the task script</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">cat</span><span class="token plain"> .command.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 3. View Nextflow&#x27;s Docker wrapper</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">cat</span><span class="token plain"> .command.run</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 4. Manually run the Docker command (copy from .command.run output)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># and inspect what went wrong</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-i</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  --cpu-shares </span><span class="token number" style="color:hsl(35, 99%, 36%)">8192</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--memory</span><span class="token plain"> 14336m </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-e</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;NXF_TASK_WORKDIR&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">your project working directory</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain">:</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">your project working directory</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-w</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token string variable" style="color:hsl(221, 87%, 60%)">$NXF_TASK_WORKDIR</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-u</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$(</span><span class="token variable function" style="color:hsl(221, 87%, 60%)">id</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-u</span><span class="token variable" style="color:hsl(221, 87%, 60%)">)</span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">:</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$(</span><span class="token variable function" style="color:hsl(221, 87%, 60%)">id</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-g</span><span class="token variable" style="color:hsl(221, 87%, 60%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  community.wave.seqera.io/library/ensembl-vep:115.2--90ec797ecb088e9a </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  /bin/bash </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">your project working directory</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain">/work/fe/949a78b06c5fd8284aeb2f87d14f7d/.command.run</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 5. Check the exit code</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">cat</span><span class="token plain"> .exitcode</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 6. View any error logs</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">cat</span><span class="token plain"> .command.err  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># (if exists)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">cat</span><span class="token plain"> .command.out  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># (if exists)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 7. If you run on HPC, (e.g SLURM ), run submit job</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">sbatch .command.run</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 8. You can debug manually by running container interactively</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-it</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> </span><span class="token environment constant" style="color:hsl(35, 99%, 36%)">$PWD</span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">:</span><span class="token environment constant" style="color:hsl(35, 99%, 36%)">$PWD</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-w</span><span class="token plain"> </span><span class="token environment constant" style="color:hsl(35, 99%, 36%)">$PWD</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">your container</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 9. Modify .command.sh then inside your container, start to debug by running command directly</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">bash</span><span class="token plain"> .command.sh</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-nextflow-docker-features">Key Nextflow Docker Features<a href="#key-nextflow-docker-features" class="hash-link" aria-label="Direct link to Key Nextflow Docker Features" title="Direct link to Key Nextflow Docker Features" translate="no">‚Äã</a></h4>
<table><thead><tr><th>Feature</th><th>How Nextflow Uses It</th></tr></thead><tbody><tr><td><strong>Resource limits</strong></td><td><code>--cpus</code> and <code>--memory</code> directives ‚Üí <code>--cpu-shares</code> and <code>--memory</code> flags</td></tr><tr><td><strong>Volume mounts</strong></td><td>Pipeline inputs/outputs ‚Üí <code>-v</code> flags</td></tr><tr><td><strong>User permissions</strong></td><td>Current user ‚Üí <code>-u $(id -u):$(id -g)</code></td></tr><tr><td><strong>Work directory</strong></td><td>Task-specific directory ‚Üí <code>-w &quot;$NXF_TASK_WORKDIR&quot;</code></td></tr><tr><td><strong>Container cleanup</strong></td><td>Automatic removal ‚Üí <code>docker rm</code> commands</td></tr><tr><td><strong>Environment variables</strong></td><td>Pipeline configuration ‚Üí <code>-e</code> flags</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="profiling-and-optimization">Profiling and Optimization<a href="#profiling-and-optimization" class="hash-link" aria-label="Direct link to Profiling and Optimization" title="Direct link to Profiling and Optimization" translate="no">‚Äã</a></h4>
<p>By examining the actual Docker commands, you can:</p>
<ol>
<li class="">
<p><strong>Check resource allocation:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">grep</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;cpu-shares\|memory&quot;</span><span class="token plain"> work/*/*</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain">/.command.run</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Verify mounted volumes:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">grep</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;\-v&quot;</span><span class="token plain"> work/ab/abc123*/.command.run</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>See container images being used:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">grep</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;docker run&quot;</span><span class="token plain"> work/*/*</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain">/.command.run </span><span class="token operator" style="color:hsl(221, 87%, 60%)">|</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">grep</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-oE</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;image:[^ ]+&quot;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Profile task execution:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># Check how long each task took</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:hsl(221, 87%, 60%)">dir</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> work/*/*/*/.command.trace</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;Task: </span><span class="token string variable" style="color:hsl(221, 87%, 60%)">$(</span><span class="token string variable function" style="color:hsl(221, 87%, 60%)">dirname</span><span class="token string variable" style="color:hsl(221, 87%, 60%)"> $dir</span><span class="token string variable" style="color:hsl(221, 87%, 60%)">)</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token function" style="color:hsl(221, 87%, 60%)">cat</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token string variable" style="color:hsl(221, 87%, 60%)">$dir</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">done</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">‚Äã</a></h3>
<ul>
<li class="">Nextflow automatically generates Docker commands for each task</li>
<li class="">Task commands are stored in <code>work/&lt;task-id&gt;/.command.run</code></li>
<li class="">You can inspect and manually re-run failed tasks</li>
<li class="">Understanding these commands helps with debugging and optimization</li>
<li class="">Resource limits from Nextflow directives are converted to Docker flags</li>
<li class="">Each task runs in isolation with its own work directory</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-efficient-docker-container-building-for-bioinformatics">3. Efficient Docker Container Building for Bioinformatics<a href="#3-efficient-docker-container-building-for-bioinformatics" class="hash-link" aria-label="Direct link to 3. Efficient Docker Container Building for Bioinformatics" title="Direct link to 3. Efficient Docker Container Building for Bioinformatics" translate="no">‚Äã</a></h2>
<p>Building efficient Docker containers keeps your images fast to download, runs, and easy to share.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">‚Äã</a></h3>
<ul>
<li class="">
<p><strong>Start with a lightweight, official base image</strong></p>
<ul>
<li class="">Alpine, Debian-slim, Ubuntu LTS</li>
</ul>
</li>
<li class="">
<p><strong>Install only required tools</strong></p>
<ul>
<li class="">Don&#x27;t add extra utilities or unnecessary packages</li>
</ul>
</li>
<li class="">
<p><strong>Clean cache and remove temp files</strong></p>
<ul>
<li class="">In the same RUN step: <code>rm -rf /var/lib/apt/lists/*</code></li>
</ul>
</li>
<li class="">
<p><strong>Use multi-stage builds for large or compiled tools</strong></p>
<ul>
<li class="">Build from source in a builder stage, copy binaries into a slim final image</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="minimal-example-install-a-tool">Minimal Example: Install a Tool<a href="#minimal-example-install-a-tool" class="hash-link" aria-label="Direct link to Minimal Example: Install a Tool" title="Direct link to Minimal Example: Install a Tool" translate="no">‚Äã</a></h3>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">FROM</span><span class="token instruction"> ubuntu:24.04</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> apt-get update &amp;&amp; </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    apt-get install -y --no-install-recommends samtools &amp;&amp; </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">WORKDIR</span><span class="token instruction"> /data</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">CMD</span><span class="token instruction"> [</span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;/bin/bash&quot;</span><span class="token instruction">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="multi-stage-build-example-build-from-source">Multi-Stage Build Example: Build from Source<a href="#multi-stage-build-example-build-from-source" class="hash-link" aria-label="Direct link to Multi-Stage Build Example: Build from Source" title="Direct link to Multi-Stage Build Example: Build from Source" translate="no">‚Äã</a></h3>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">FROM</span><span class="token instruction"> ubuntu:24.04 </span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">AS</span><span class="token instruction"> builder</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> apt-get update &amp;&amp; apt-get install -y build-essential wget</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> wget https://github.com/samtools/samtools/releases/download/1.18/samtools-1.18.tar.bz2 &amp;&amp; </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    tar -xjf samtools-1.18.tar.bz2 &amp;&amp; </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    cd samtools-1.18 &amp;&amp; </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    ./configure --prefix=/usr/local &amp;&amp; make &amp;&amp; make install</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">FROM</span><span class="token instruction"> ubuntu:24.04</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> apt-get update &amp;&amp; apt-get install -y --no-install-recommends libbz2-1.0 liblzma5 zlib1g</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:hsl(5, 74%, 59%)">--from</span><span class="token instruction options punctuation" style="color:hsl(119, 34%, 47%)">=</span><span class="token instruction options string" style="color:hsl(119, 34%, 47%)">builder</span><span class="token instruction"> /usr/local/bin/samtools /usr/local/bin/</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">WORKDIR</span><span class="token instruction"> /data</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">CMD</span><span class="token instruction"> [</span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;/bin/bash&quot;</span><span class="token instruction">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="further-optimizations">Further Optimizations<a href="#further-optimizations" class="hash-link" aria-label="Direct link to Further Optimizations" title="Direct link to Further Optimizations" translate="no">‚Äã</a></h3>
<ul>
<li class="">Sort package lists alphabetically</li>
<li class="">Use <code>.dockerignore</code> to reduce build context size</li>
<li class="">Pin exact tool/package versions for reproducibility</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-building-docker-images-with-conda-and-micromamba">4. Building Docker Images with Conda and Micromamba<a href="#4-building-docker-images-with-conda-and-micromamba" class="hash-link" aria-label="Direct link to 4. Building Docker Images with Conda and Micromamba" title="Direct link to 4. Building Docker Images with Conda and Micromamba" translate="no">‚Äã</a></h2>
<p>Building Docker containers from Conda packages is one of the most efficient ways to create reproducible bioinformatics environments. Micromamba is a lightweight, faster alternative to Conda that&#x27;s perfect for containers.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-micromamba-for-docker-images">Why Micromamba for Docker Images?<a href="#why-micromamba-for-docker-images" class="hash-link" aria-label="Direct link to Why Micromamba for Docker Images?" title="Direct link to Why Micromamba for Docker Images?" translate="no">‚Äã</a></h3>
<p>Micromamba offers significant advantages over traditional Conda:</p>
<ul>
<li class=""><strong>Fast:</strong> 10-100x faster dependency resolution than Conda</li>
<li class=""><strong>Lightweight:</strong> Minimal footprint, perfect for containerized deployments</li>
<li class=""><strong>Reproducible:</strong> Environment lock files guarantee exact versions</li>
<li class=""><strong>Production-ready:</strong> Used extensively in bioinformatics pipelines</li>
<li class=""><strong>Small base image:</strong> Official <code>mambaorg/micromamba</code> image is only ~150MB</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-modern-approach-condayml--micromamba">The Modern Approach: Conda.yml + Micromamba<a href="#the-modern-approach-condayml--micromamba" class="hash-link" aria-label="Direct link to The Modern Approach: Conda.yml + Micromamba" title="Direct link to The Modern Approach: Conda.yml + Micromamba" translate="no">‚Äã</a></h3>
<p>Instead of writing complex RUN commands with inline package specifications, use a <code>conda.yml</code> environment file:</p>
<p><strong>conda.yml:</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> base</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">channels</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> conda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">forge</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> bioconda</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">dependencies</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> bioconda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">fastqc=0.12.1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> bioconda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">samtools=1.18</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> bioconda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">bwa=0.7.17</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> conda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">forge</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">procps</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">ng</span><br></span></code></pre></div></div>
<p><strong>Dockerfile:</strong></p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">FROM</span><span class="token instruction"> mambaorg/micromamba:1.5.10-noble</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Copy environment file</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:hsl(5, 74%, 59%)">--chown</span><span class="token instruction options punctuation" style="color:hsl(119, 34%, 47%)">=</span><span class="token instruction options string" style="color:hsl(119, 34%, 47%)">$MAMBA_USER:$MAMBA_USER</span><span class="token instruction"> conda.yml /tmp/conda.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Install packages from environment file</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> micromamba install -y -n base -f /tmp/conda.yml </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; micromamba clean -a -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Export explicit lock file for reproducibility</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> micromamba env export --name base --explicit &gt; environment.lock </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; echo </span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;&gt;&gt; CONDA_LOCK_START&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; cat environment.lock </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; echo </span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;&lt;&lt; CONDA_LOCK_END&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Set PATH</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">USER</span><span class="token instruction"> root</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">ENV</span><span class="token instruction"> PATH=</span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;$MAMBA_ROOT_PREFIX/bin:$PATH&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">WORKDIR</span><span class="token instruction"> /data</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">CMD</span><span class="token instruction"> [</span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;/bin/bash&quot;</span><span class="token instruction">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-the-dockerfile">Understanding the Dockerfile<a href="#understanding-the-dockerfile" class="hash-link" aria-label="Direct link to Understanding the Dockerfile" title="Direct link to Understanding the Dockerfile" translate="no">‚Äã</a></h3>
<p>Let&#x27;s break down each component:</p>
<p><strong>1. Base Image:</strong></p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">FROM</span><span class="token instruction"> mambaorg/micromamba:1.5.10-noble</span><br></span></code></pre></div></div>
<ul>
<li class=""><code>mambaorg/micromamba</code> includes Micromamba pre-installed</li>
<li class=""><code>1.5.10</code> is the version (pin for reproducibility)</li>
<li class=""><code>noble</code> is Ubuntu 24.04 LTS variant</li>
<li class="">Much lighter than installing Conda from scratch</li>
</ul>
<p><strong>2. Copy Environment File:</strong></p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:hsl(5, 74%, 59%)">--chown</span><span class="token instruction options punctuation" style="color:hsl(119, 34%, 47%)">=</span><span class="token instruction options string" style="color:hsl(119, 34%, 47%)">$MAMBA_USER:$MAMBA_USER</span><span class="token instruction"> conda.yml /tmp/conda.yml</span><br></span></code></pre></div></div>
<ul>
<li class="">Copies your conda.yml to the container</li>
<li class=""><code>$MAMBA_USER</code> is the non-root user (set by base image)</li>
<li class="">Preserves proper file ownership</li>
</ul>
<p><strong>3. Install with Micromamba:</strong></p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> micromamba install -y -n base -f /tmp/conda.yml </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; micromamba clean -a -y</span><br></span></code></pre></div></div>
<ul>
<li class=""><code>-y</code>: Auto-confirm installation</li>
<li class=""><code>-n base</code>: Install into the base environment</li>
<li class=""><code>-f /tmp/conda.yml</code>: Use environment file</li>
<li class=""><code>micromamba clean -a -y</code>: Remove cached packages (reduces image size by ~50%)</li>
</ul>
<p><strong>4. Generate Lock File (for reproducibility):</strong></p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> micromamba env export --name base --explicit &gt; environment.lock </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; echo </span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;&gt;&gt; CONDA_LOCK_START&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; cat environment.lock </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; echo </span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;&lt;&lt; CONDA_LOCK_END&quot;</span><br></span></code></pre></div></div>
<ul>
<li class="">Exports explicit lock file with exact pinned versions and URLs</li>
<li class="">Echo statements make lock file visible in build logs</li>
<li class="">This file can be saved and used for exact reproducibility later</li>
</ul>
<p><strong>5. Set PATH and User:</strong></p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">USER</span><span class="token instruction"> root</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">ENV</span><span class="token instruction"> PATH=</span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;$MAMBA_ROOT_PREFIX/bin:$PATH&quot;</span><br></span></code></pre></div></div>
<ul>
<li class="">Ensures Micromamba binaries are in PATH</li>
<li class=""><code>USER root</code> required for some system monitoring (see procps-ng below)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-procps-ng-is-important-for-nextflow">Why procps-ng is Important for Nextflow<a href="#why-procps-ng-is-important-for-nextflow" class="hash-link" aria-label="Direct link to Why procps-ng is Important for Nextflow" title="Direct link to Why procps-ng is Important for Nextflow" translate="no">‚Äã</a></h3>
<p>Notice <code>conda-forge::procps-ng</code> in the dependencies. Here&#x27;s why:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token key atrule" style="color:hsl(35, 99%, 36%)">dependencies</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> conda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">forge</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">procps</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">ng</span><br></span></code></pre></div></div>
<p>Nextflow uses <code>procps-ng</code> tools (like <code>ps</code>, <code>top</code>) to monitor:</p>
<ul>
<li class="">CPU usage</li>
<li class="">Memory consumption</li>
<li class="">Process status</li>
</ul>
<p>Without it, Nextflow cannot properly track task resource usage. Always include it in bioinformatics containers.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="complete-multi-tool-example">Complete Multi-Tool Example<a href="#complete-multi-tool-example" class="hash-link" aria-label="Direct link to Complete Multi-Tool Example" title="Direct link to Complete Multi-Tool Example" translate="no">‚Äã</a></h3>
<p>Here&#x27;s a full example with multiple bioinformatics tools:</p>
<p><strong>conda.yml:</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> base</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">channels</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> conda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">forge</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> bioconda</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">dependencies</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> bioconda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">fastqc=0.12.1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> bioconda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">samtools=1.18</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> bioconda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">bwa=0.7.17</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> bioconda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">bcftools=1.18</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> bioconda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">picard=3.0.0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> conda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">forge</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">procps</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">ng</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> conda</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">forge</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">parallel</span><br></span></code></pre></div></div>
<p><strong>Dockerfile:</strong></p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">FROM</span><span class="token instruction"> mambaorg/micromamba:1.5.10-noble</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:hsl(5, 74%, 59%)">--chown</span><span class="token instruction options punctuation" style="color:hsl(119, 34%, 47%)">=</span><span class="token instruction options string" style="color:hsl(119, 34%, 47%)">$MAMBA_USER:$MAMBA_USER</span><span class="token instruction"> conda.yml /tmp/conda.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> micromamba install -y -n base -f /tmp/conda.yml </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; micromamba install -y -n base conda-forge::procps-ng </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; micromamba env export --name base --explicit &gt; environment.lock </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; echo </span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;&gt;&gt; CONDA_LOCK_START&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; cat environment.lock </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; echo </span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;&lt;&lt; CONDA_LOCK_END&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    &amp;&amp; micromamba clean -a -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">USER</span><span class="token instruction"> root</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">ENV</span><span class="token instruction"> PATH=</span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;$MAMBA_ROOT_PREFIX/bin:$PATH&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">WORKDIR</span><span class="token instruction"> /data</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">CMD</span><span class="token instruction"> [</span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;/bin/bash&quot;</span><span class="token instruction">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="building-and-using-your-container">Building and Using Your Container<a href="#building-and-using-your-container" class="hash-link" aria-label="Direct link to Building and Using Your Container" title="Direct link to Building and Using Your Container" translate="no">‚Äã</a></h3>
<p><strong>1. Build the image:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-t</span><span class="token plain"> myregistry.com/bioinformatics/biotools:1.0 </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">.</span><br></span></code></pre></div></div>
<p><strong>2. Test it locally:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token string environment constant" style="color:hsl(35, 99%, 36%)">$PWD</span><span class="token string" style="color:hsl(119, 34%, 47%)">:/data&quot;</span><span class="token plain"> myregistry.com/bioinformatics/biotools:1.0 </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fastqc /data/sample.fastq</span><br></span></code></pre></div></div>
<p><strong>3. Push to registry:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> push myregistry.com/bioinformatics/biotools:1.0</span><br></span></code></pre></div></div>
<p><strong>4. Use in Nextflow:</strong></p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">process FASTQC </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    tag </span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">meta</span><span class="token interpolation-string interpolation expression punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token interpolation-string interpolation expression">id</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    label </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;process_medium&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    conda </span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">moduleDir</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">/environment.yml&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    container &quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">$</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> workflow</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">containerEngine </span><span class="token operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;singularity&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain">task</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">ext</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">singularity_pull_docker_container </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;https://depot.galaxyproject.org/singularity/fastqc:0.12.1--hdfd78af_0&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;biocontainers/fastqc:0.12.1--hdfd78af_0&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain">&quot;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    input</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    tuple </span><span class="token function" style="color:hsl(221, 87%, 60%)">val</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">meta</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">path</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">reads</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    output</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    tuple </span><span class="token function" style="color:hsl(221, 87%, 60%)">val</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">meta</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">path</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;*.html&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> emit</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> html</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    tuple </span><span class="token function" style="color:hsl(221, 87%, 60%)">val</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">meta</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">path</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;*.zip&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> emit</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> zip</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    path  </span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;versions.yml&quot;</span><span class="token plain">           </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> emit</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> versions</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token spock-block">when:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    task</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">ext</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">when </span><span class="token operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token plain"> null </span><span class="token operator" style="color:hsl(221, 87%, 60%)">||</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">ext</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">when</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    script</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> args          </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">ext</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">args </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> prefix        </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">ext</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">prefix </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?:</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">meta</span><span class="token interpolation-string interpolation expression punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token interpolation-string interpolation expression">id</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// Make list of old name and new name pairs to use for renaming in the bash while loop</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> old_new_pairs </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> reads </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">instanceof</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Path</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">||</span><span class="token plain"> reads</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">size</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain"> reads</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">prefix</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">.</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">reads</span><span class="token interpolation-string interpolation expression punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token interpolation-string interpolation expression">extension</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> reads</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">withIndex</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">collect </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> entry</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> index </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain"> entry</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">prefix</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">_</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">index </span><span class="token interpolation-string interpolation expression operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token interpolation-string interpolation expression"> </span><span class="token interpolation-string interpolation expression number" style="color:hsl(35, 99%, 36%)">1</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">.</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">entry</span><span class="token interpolation-string interpolation expression punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token interpolation-string interpolation expression">extension</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> rename_to     </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> old_new_pairs</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*.</span><span class="token function" style="color:hsl(221, 87%, 60%)">join</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27; &#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">join</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27; &#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> renamed_files </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> old_new_pairs</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> _old_name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> new_name </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-&gt;</span><span class="token plain"> new_name </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">join</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27; &#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// The total amount of allocated RAM by FastQC is equal to the number of threads defined (--threads) time the amount of RAM defined (--memory)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// https://github.com/s-andrews/FastQC/blob/1faeea0412093224d7f6a07f777fad60a5650795/fastqc#L211-L222</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// Dividing the task.memory by task.cpu allows to stick to requested amount of RAM in the label</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> memory_in_mb </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">memory </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">memory</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">toUnit</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;MB&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">/</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">cpus </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> null</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// FastQC memory value allowed range (100 - 10000)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> fastqc_memory </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> memory_in_mb </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10000</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10000</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">memory_in_mb </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> memory_in_mb</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    printf &quot;%s %s\\n&quot; </span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">rename_to</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)"> | while read old_name new_name; do</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">        [ -f &quot;\${new_name}&quot; ] || ln -s \$old_name \$new_name</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    done</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="display:inline-block;color:hsl(119, 34%, 47%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    fastqc \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">        </span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">args</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)"> \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">        --threads </span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">task</span><span class="token interpolation-string interpolation expression punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token interpolation-string interpolation expression">cpus</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)"> \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">        --memory </span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">fastqc_memory</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)"> \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">        </span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">renamed_files</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="display:inline-block;color:hsl(119, 34%, 47%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    cat &lt;&lt;-END_VERSIONS &gt; versions.yml</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    &quot;</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">task</span><span class="token interpolation-string interpolation expression punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token interpolation-string interpolation expression">process</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;:</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">        fastqc: \$( fastqc --version | sed &#x27;/FastQC v/!d; s/.*v//&#x27; )</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    END_VERSIONS</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    stub</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> prefix </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> task</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">ext</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">prefix </span><span class="token operator" style="color:hsl(221, 87%, 60%)">?:</span><span class="token plain"> </span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">meta</span><span class="token interpolation-string interpolation expression punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token interpolation-string interpolation expression">id</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    touch </span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">prefix</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">.html</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    touch </span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">prefix</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">.zip</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="display:inline-block;color:hsl(119, 34%, 47%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    cat &lt;&lt;-END_VERSIONS &gt; versions.yml</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    &quot;</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token interpolation-string interpolation expression">task</span><span class="token interpolation-string interpolation expression punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token interpolation-string interpolation expression">process</span><span class="token interpolation-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">&quot;:</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">        fastqc: \$( fastqc --version | sed &#x27;/FastQC v/!d; s/.*v//&#x27; )</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    END_VERSIONS</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token interpolation-string string" style="color:hsl(119, 34%, 47%)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="advantages-of-this-approach">Advantages of This Approach<a href="#advantages-of-this-approach" class="hash-link" aria-label="Direct link to Advantages of This Approach" title="Direct link to Advantages of This Approach" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Feature</th><th>conda.yml + Micromamba</th><th>Traditional Conda Dockerfile</th></tr></thead><tbody><tr><td><strong>Build speed</strong></td><td>Very fast (10-100x)</td><td>Slow</td></tr><tr><td><strong>Image size</strong></td><td>~200MB for tools</td><td>~1-2GB</td></tr><tr><td><strong>Reproducibility</strong></td><td>Explicit lock file</td><td>Dependency drift possible</td></tr><tr><td><strong>Version pinning</strong></td><td>Easy in YAML</td><td>Inline in Dockerfile</td></tr><tr><td><strong>Readability</strong></td><td>Clear, readable YAML</td><td>Complex RUN statements</td></tr><tr><td><strong>Channel support</strong></td><td>Multiple channels</td><td>Limited</td></tr><tr><td><strong>Maintenance</strong></td><td>Update conda.yml easily</td><td>Rebuild entire Dockerfile</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="saving-and-sharing-explicit-lock-files">Saving and Sharing Explicit Lock Files<a href="#saving-and-sharing-explicit-lock-files" class="hash-link" aria-label="Direct link to Saving and Sharing Explicit Lock Files" title="Direct link to Saving and Sharing Explicit Lock Files" translate="no">‚Äã</a></h3>
<p>The generated <code>environment.lock</code> file is extremely valuable. Save it in your project:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># Extract from build output and save</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> build </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">.</span><span class="token plain"> </span><span class="token operator file-descriptor important" style="color:hsl(230, 8%, 24%);font-weight:bold">2</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token file-descriptor important" style="color:hsl(230, 8%, 24%);font-weight:bold">&amp;1</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">|</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">grep</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-A</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1000</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;CONDA_LOCK_START&quot;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">|</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">grep</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-B</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1000</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;CONDA_LOCK_END&quot;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> environment.lock</span><br></span></code></pre></div></div>
<p>Later, reproduce the exact environment:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># Rebuild from locked versions</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">micromamba </span><span class="token function" style="color:hsl(221, 87%, 60%)">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-y</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-n</span><span class="token plain"> base </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--file</span><span class="token plain"> environment.lock</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pixi-the-next-generation-tool-for-conda-based-containers">Pixi: The Next Generation Tool for Conda-Based Containers<a href="#pixi-the-next-generation-tool-for-conda-based-containers" class="hash-link" aria-label="Direct link to Pixi: The Next Generation Tool for Conda-Based Containers" title="Direct link to Pixi: The Next Generation Tool for Conda-Based Containers" translate="no">‚Äã</a></h3>
<p>Pixi is an emerging tool that combines the best aspects of Conda, Mamba, and lock file management into a single, ultra-fast solution. It&#x27;s gaining traction in bioinformatics for building reproducible containers.</p>
<p><strong>Why Pixi?</strong></p>
<ul>
<li class=""><strong>Fastest:</strong> Even faster than Micromamba for dependency resolution</li>
<li class=""><strong>Automatic lock files:</strong> Lock files are created automatically, no manual export needed</li>
<li class=""><strong>Single-step reproducibility:</strong> One tool handles everything from installation to reproducibility</li>
<li class=""><strong>Cross-platform:</strong> Works seamlessly across different architectures and systems</li>
<li class=""><strong>Modern approach:</strong> Designed from scratch with containerization in mind</li>
</ul>
<p><strong>Example Dockerfile with Pixi:</strong></p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">ARG</span><span class="token instruction"> PIXI_VERSION=0.63.2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">ARG</span><span class="token instruction"> BASE_IMAGE=debian:bookworm-slim</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">FROM</span><span class="token instruction"> </span><span class="token instruction options property" style="color:hsl(5, 74%, 59%)">--platform</span><span class="token instruction options punctuation" style="color:hsl(119, 34%, 47%)">=</span><span class="token instruction options string" style="color:hsl(119, 34%, 47%)">linux/amd64</span><span class="token instruction"> ubuntu:24.04 </span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">AS</span><span class="token instruction"> builder</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">ARG</span><span class="token instruction"> PIXI_VERSION</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> apt-get update &amp;&amp; apt-get install -y curl</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> curl -Ls </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    </span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;https://github.com/prefix-dev/pixi/releases/download/v${PIXI_VERSION}/pixi-$(uname -m)-unknown-linux-musl&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:hsl(221, 87%, 60%)">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token instruction">    -o /pixi &amp;&amp; chmod +x /pixi</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> /pixi --version</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">FROM</span><span class="token instruction"> </span><span class="token instruction options property" style="color:hsl(5, 74%, 59%)">--platform</span><span class="token instruction options punctuation" style="color:hsl(119, 34%, 47%)">=</span><span class="token instruction options string" style="color:hsl(119, 34%, 47%)">linux/amd64</span><span class="token instruction"> </span><span class="token instruction variable" style="color:hsl(221, 87%, 60%)">$BASE_IMAGE</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Add appuser with UID 1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> useradd -u 1000 -m -s /bin/bash appuser</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">USER</span><span class="token instruction"> appuser</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">WORKDIR</span><span class="token instruction"> /home/appuser</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Copy pixi from builder</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:hsl(5, 74%, 59%)">--from</span><span class="token instruction options punctuation" style="color:hsl(119, 34%, 47%)">=</span><span class="token instruction options string" style="color:hsl(119, 34%, 47%)">builder</span><span class="token instruction options"> </span><span class="token instruction options property" style="color:hsl(5, 74%, 59%)">--chown</span><span class="token instruction options punctuation" style="color:hsl(119, 34%, 47%)">=</span><span class="token instruction options string" style="color:hsl(119, 34%, 47%)">appuser:appuser</span><span class="token instruction options"> </span><span class="token instruction options property" style="color:hsl(5, 74%, 59%)">--chmod</span><span class="token instruction options punctuation" style="color:hsl(119, 34%, 47%)">=</span><span class="token instruction options string" style="color:hsl(119, 34%, 47%)">0555</span><span class="token instruction"> /pixi /usr/local/bin/pixi</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Set up pixi with conda channels</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">ENV</span><span class="token instruction"> PATH=</span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;/home/appuser/.pixi/bin:${PATH}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> pixi config set default-channels </span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&#x27;[&quot;conda-forge&quot;, &quot;bioconda&quot;]&#x27;</span><span class="token instruction"> --global</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Install tools using pixi</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> pixi global install fastqc=0.12.1 samtools=1.18 bwa=0.7.17</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Clean cache</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">RUN</span><span class="token instruction"> pixi clean cache -y</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">WORKDIR</span><span class="token instruction"> /data</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token instruction keyword" style="color:hsl(301, 63%, 40%)">CMD</span><span class="token instruction"> [</span><span class="token instruction string" style="color:hsl(119, 34%, 47%)">&quot;/bin/bash&quot;</span><span class="token instruction">]</span><br></span></code></pre></div></div>
<p><strong>Key Pixi Features in the Dockerfile:</strong></p>
<ul>
<li class=""><strong>Multi-stage build:</strong> Builder stage compiles Pixi, final stage is lean</li>
<li class=""><strong>User management:</strong> Non-root appuser for security</li>
<li class=""><strong>Global channel setup:</strong> Pre-configures conda-forge and bioconda channels</li>
<li class=""><strong>Direct package installation:</strong> <code>pixi global install</code> installs and locks versions automatically</li>
<li class=""><strong>Automatic lock file:</strong> Lock file is generated implicitly, ensuring reproducibility</li>
<li class=""><strong>Cache cleaning:</strong> <code>pixi clean cache -y</code> removes temporary files</li>
</ul>
<p><strong>Comparing Container Tools:</strong></p>
<table><thead><tr><th>Feature</th><th>Conda</th><th>Micromamba</th><th>Pixi</th></tr></thead><tbody><tr><td><strong>Speed</strong></td><td>Slow (baseline)</td><td>10-100x faster</td><td>100x+ faster</td></tr><tr><td><strong>Lock file</strong></td><td>Manual export</td><td>Manual export</td><td>Automatic</td></tr><tr><td><strong>Image size</strong></td><td>Large</td><td>Small</td><td>Small</td></tr><tr><td><strong>Reproducibility</strong></td><td>Good</td><td>Excellent</td><td>Excellent</td></tr><tr><td><strong>Complexity</strong></td><td>High</td><td>Medium</td><td>Low</td></tr><tr><td><strong>Learning curve</strong></td><td>Steep</td><td>Medium</td><td>Low</td></tr><tr><td><strong>Production-ready</strong></td><td>Yes</td><td>Yes</td><td>Emerging</td></tr></tbody></table>
<p><strong>Summary:</strong></p>
<ul>
<li class="">Use <code>conda.yml</code> with Micromamba for established, proven workflows</li>
<li class="">Use Pixi for cutting-edge projects requiring maximum speed and simplicity</li>
<li class="">Always include <code>procps-ng</code> for Nextflow compatibility (regardless of tool)</li>
<li class="">Generate/maintain explicit lock files for reproducibility</li>
<li class="">Pin exact versions to prevent dependency drift</li>
<li class="">Multi-channel support (conda-forge + bioconda) handles complex dependencies</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-finding-pre-built-containers-before-building-from-scratch">5. Finding Pre-Built Containers: Before Building from Scratch<a href="#5-finding-pre-built-containers-before-building-from-scratch" class="hash-link" aria-label="Direct link to 5. Finding Pre-Built Containers: Before Building from Scratch" title="Direct link to 5. Finding Pre-Built Containers: Before Building from Scratch" translate="no">‚Äã</a></h2>
<p>Before you spend time building Docker images from scratch, check if your tool already exists in a public container registry. Most bioinformatics tools have pre-built, maintained containers ready to use. This is the <strong>fastest and easiest approach</strong> when available.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-container-search-strategy">The Container Search Strategy<a href="#the-container-search-strategy" class="hash-link" aria-label="Direct link to The Container Search Strategy" title="Direct link to The Container Search Strategy" translate="no">‚Äã</a></h3>
<p>Always follow this order:</p>
<ol>
<li class=""><strong>Check BioContainers</strong> (<a href="https://biocontainers.pro/registry" target="_blank" rel="noopener noreferrer" class="">https://biocontainers.pro/registry</a>) - Most comprehensive bioinformatics registry</li>
<li class=""><strong>Check Seqera Containers</strong> (<a href="https://seqera.io/containers/" target="_blank" rel="noopener noreferrer" class="">https://seqera.io/containers/</a>) - Multi-tool combinations, modern builds</li>
<li class=""><strong>Build yourself</strong> - Only if tool doesn&#x27;t exist</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-biocontainers-primary-source">1. BioContainers (Primary Source)<a href="#1-biocontainers-primary-source" class="hash-link" aria-label="Direct link to 1. BioContainers (Primary Source)" title="Direct link to 1. BioContainers (Primary Source)" translate="no">‚Äã</a></h3>
<p><strong>BioContainers</strong> automatically builds and maintains Docker containers for every bioconda package. This is the most comprehensive source for bioinformatics tools.</p>
<p><strong>URL:</strong> <a href="https://biocontainers.pro/registry" target="_blank" rel="noopener noreferrer" class="">https://biocontainers.pro/registry</a></p>
<p><strong>How to find and use a tool:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># Search for FastQC</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> search quay.io/biocontainers/fastqc</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Pull a specific version</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> pull quay.io/biocontainers/fastqc:0.12.1--hdfd78af_1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Run the tool</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token string environment constant" style="color:hsl(35, 99%, 36%)">$PWD</span><span class="token string" style="color:hsl(119, 34%, 47%)">:/data&quot;</span><span class="token plain"> quay.io/biocontainers/fastqc:0.12.1--hdfd78af_1 </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fastqc /data/sample.fastq</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="biocontainer" src="/river-docs/assets/images/biocontainer_container_registry-72da3ed4ec61f7ab5f175373cd1b0208.png" width="2546" height="1494" class="img_ev3q"></p>
<p><strong>Advantages:</strong></p>
<ul>
<li class="">‚úÖ Automatically updated when bioconda packages update</li>
<li class="">‚úÖ Single-tool containers (clean, minimal)</li>
<li class="">‚úÖ Stable and widely tested</li>
<li class="">‚úÖ Available for most bioinformatics tools (~10,000+)</li>
<li class="">‚úÖ Free and publicly accessible</li>
</ul>
<p><strong>Limitations:</strong></p>
<ul>
<li class="">One tool per image (no multi-tool combinations)</li>
<li class="">Must manually orchestrate multiple containers for pipelines</li>
</ul>
<p><strong>Example with multiple tools in a workflow:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># Align reads with BWA</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token string environment constant" style="color:hsl(35, 99%, 36%)">$PWD</span><span class="token string" style="color:hsl(119, 34%, 47%)">:/data&quot;</span><span class="token plain"> quay.io/biocontainers/bwa:0.7.17--h5bf99c6_8 </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    bwa mem /data/ref.fa /data/reads.fq </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> /data/aligned.sam</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Sort BAM with Samtools</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token string environment constant" style="color:hsl(35, 99%, 36%)">$PWD</span><span class="token string" style="color:hsl(119, 34%, 47%)">:/data&quot;</span><span class="token plain"> quay.io/biocontainers/samtools:1.18--hd87286a_0 </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    samtools </span><span class="token function" style="color:hsl(221, 87%, 60%)">sort</span><span class="token plain"> /data/aligned.sam </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> /data/aligned.bam</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-seqera-containers-also-support-multi-tool-option">2. Seqera Containers (Also support Multi-Tool Option)<a href="#2-seqera-containers-also-support-multi-tool-option" class="hash-link" aria-label="Direct link to 2. Seqera Containers (Also support Multi-Tool Option)" title="Direct link to 2. Seqera Containers (Also support Multi-Tool Option)" translate="no">‚Äã</a></h3>
<p><strong>Seqera Containers</strong> provides a registry of pre-built containers that often combine multiple tools, perfect for complex workflows.</p>
<p><strong>URL:</strong> <a href="https://seqera.io/containers/" target="_blank" rel="noopener noreferrer" class="">https://seqera.io/containers/</a></p>
<p><strong>How to find and use containers:</strong></p>
<ol>
<li class="">Visit <a href="https://seqera.io/containers/" target="_blank" rel="noopener noreferrer" class="">https://seqera.io/containers/</a></li>
<li class="">Search for your tool(s)</li>
<li class="">Add multiple tools if needed (e.g., <code>fastqc</code> + <code>samtools</code> together)</li>
<li class="">Select your architecture (linux/amd64 or linux/arm64)</li>
<li class="">Get the container reference</li>
</ol>
<p><strong>Example:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># Pull a multi-tool container</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> pull wave.seqera.io/library/fastqc:0.12.1-samtools_1.18</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Or use in Nextflow</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">process analyzeReads </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    container </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;wave.seqera.io/library/fastqc:0.12.1-samtools_1.18&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    script:</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;&#x27;</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fastqc input.fastq</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    samtools view input.bam</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;&#x27;</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="seqera_container" src="/river-docs/assets/images/seqera_container_registry-12220fdc32c49ac10d1a2a5ac24b2b8f.png" width="2546" height="1494" class="img_ev3q">
<strong>Advantages:</strong></p>
<ul>
<li class="">‚úÖ Combines multiple tools in one image</li>
<li class="">‚úÖ Modern infrastructure</li>
<li class="">‚úÖ Web interface for easy discovery</li>
<li class="">‚úÖ Automatic lock file generation</li>
<li class="">‚úÖ Multi-architecture support</li>
</ul>
<p><strong>Limitations:</strong></p>
<ul>
<li class="">Fewer pre-built combinations than BioContainers</li>
<li class="">Relies on Seqera infrastructure</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-when-to-build-from-scratch">3. When to Build from Scratch<a href="#3-when-to-build-from-scratch" class="hash-link" aria-label="Direct link to 3. When to Build from Scratch" title="Direct link to 3. When to Build from Scratch" translate="no">‚Äã</a></h3>
<p>Only build your own container if:</p>
<ol>
<li class=""><strong>Tool doesn&#x27;t exist</strong> in any public registry</li>
<li class=""><strong>Version not available</strong> and you need an older/newer version</li>
<li class=""><strong>Custom modifications</strong> required (additional dependencies, scripts)</li>
<li class=""><strong>Performance optimizations</strong> needed for specific hardware</li>
</ol>
<p><strong>Example scenario:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># Check if tool exists</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> pull quay.io/biocontainers/myraretool:latest  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ‚ùå Not found</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Check Seqera Containers</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Visit https://seqera.io/containers/ - (tool not found)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ‚Üí NOW you build it yourself using Section 4 approach</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-t</span><span class="token plain"> myregistry.com/myraretool:1.0 </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> push myregistry.com/myraretool:1.0</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quick-reference-where-to-find-each-tool">Quick Reference: Where to Find Each Tool<a href="#quick-reference-where-to-find-each-tool" class="hash-link" aria-label="Direct link to Quick Reference: Where to Find Each Tool" title="Direct link to Quick Reference: Where to Find Each Tool" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Tool Type</th><th>Primary Location</th><th>Alternative</th><th>Fallback</th></tr></thead><tbody><tr><td><strong>Common bioinformatics</strong> (FastQC, SAMtools, BWA, etc.)</td><td><a href="https://biocontainers.pro/registry" target="_blank" rel="noopener noreferrer" class="">https://biocontainers.pro/registry</a></td><td><a href="https://seqera.io/containers/" target="_blank" rel="noopener noreferrer" class="">https://seqera.io/containers/</a></td><td>Build yourself</td></tr><tr><td><strong>R/Bioconductor packages</strong></td><td><a href="https://biocontainers.pro/registry" target="_blank" rel="noopener noreferrer" class="">https://biocontainers.pro/registry</a></td><td><a href="https://seqera.io/containers/" target="_blank" rel="noopener noreferrer" class="">https://seqera.io/containers/</a></td><td>Build yourself</td></tr><tr><td><strong>Python bioinformatics</strong></td><td><a href="https://biocontainers.pro/registry" target="_blank" rel="noopener noreferrer" class="">https://biocontainers.pro/registry</a></td><td><a href="https://seqera.io/containers/" target="_blank" rel="noopener noreferrer" class="">https://seqera.io/containers/</a></td><td>Build yourself</td></tr><tr><td><strong>Specialized tools</strong></td><td><a href="https://biocontainers.pro/registry" target="_blank" rel="noopener noreferrer" class="">https://biocontainers.pro/registry</a> first</td><td>GitHub releases</td><td>Build yourself</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="practical-workflow-search--pull--use">Practical Workflow: Search ‚Üí Pull ‚Üí Use<a href="#practical-workflow-search--pull--use" class="hash-link" aria-label="Direct link to Practical Workflow: Search ‚Üí Pull ‚Üí Use" title="Direct link to Practical Workflow: Search ‚Üí Pull ‚Üí Use" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 1. Search for tool in BioContainers</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">TOOL</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;fastqc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">VERSION</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;0.12.1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;Searching for </span><span class="token string variable" style="color:hsl(221, 87%, 60%)">$TOOL</span><span class="token string" style="color:hsl(119, 34%, 47%)">:</span><span class="token string variable" style="color:hsl(221, 87%, 60%)">$VERSION</span><span class="token string" style="color:hsl(119, 34%, 47%)"> in BioContainers...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> pull quay.io/biocontainers/</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$TOOL</span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">:</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$VERSION</span><span class="token plain">--* </span><span class="token operator file-descriptor important" style="color:hsl(230, 8%, 24%);font-weight:bold">2</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain">/dev/null </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;‚úì Found in BioContainers!&quot;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">exit</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 2. Try Seqera Containers</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;Trying Seqera Containers...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># (Check https://seqera.io/containers/ manually or via API)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 3. Build yourself</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;‚úó Not found in public registries. Building from scratch...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Use Section 4 approach with Micromamba or Pixi</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-t</span><span class="token plain"> myregistry.com/</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$TOOL</span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">:</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$VERSION</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">.</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices-for-using-pre-built-containers">Best Practices for Using Pre-Built Containers<a href="#best-practices-for-using-pre-built-containers" class="hash-link" aria-label="Direct link to Best Practices for Using Pre-Built Containers" title="Direct link to Best Practices for Using Pre-Built Containers" translate="no">‚Äã</a></h3>
<ol>
<li class="">
<p><strong>Pin exact versions:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚úì Good: </span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> pull quay.io/biocontainers/samtools:1.18--hd87286a_0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚úó Bad:  </span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> pull quay.io/biocontainers/samtools:latest</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Check build hash in Nextflow:</strong></p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">process myTask </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// Include digest for reproducibility</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    container </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;quay.io/biocontainers/samtools:1.18--hd87286a_0@sha256:abc123...&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    script</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;samtools view input.bam&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Keep local cache for offline work:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> pull quay.io/biocontainers/samtools:1.18--hd87286a_0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> tag quay.io/biocontainers/samtools:1.18--hd87286a_0 </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    myregistry.com/samtools:1.18</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> push myregistry.com/samtools:1.18</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary-container-registry-decision-tree">Summary: Container Registry Decision Tree<a href="#summary-container-registry-decision-tree" class="hash-link" aria-label="Direct link to Summary: Container Registry Decision Tree" title="Direct link to Summary: Container Registry Decision Tree" translate="no">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Do you need a bioinformatics tool in a container?</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îú‚îÄ‚Üí Search https://biocontainers.pro/registry (BioContainers)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ   ‚îú‚îÄ‚Üí Found? Use it ‚úì</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ   ‚îî‚îÄ‚Üí Not found?</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ       ‚îÇ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ       ‚îú‚îÄ‚Üí Search https://seqera.io/containers/ (Seqera Containers)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ       ‚îÇ   ‚îú‚îÄ‚Üí Found? Use it ‚úì</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ       ‚îÇ   ‚îî‚îÄ‚Üí Not found?</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ       ‚îÇ       ‚îÇ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ       ‚îÇ       ‚îî‚îÄ‚Üí Build using Section 4</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">‚îÇ       ‚îÇ           (Micromamba or Pixi) ‚úì</span><br></span></code></pre></div></div>
<p><strong>Key Takeaway:</strong></p>
<ul>
<li class=""><strong>Check existing registries first</strong> - saves time and uses community-maintained containers</li>
<li class=""><strong>BioContainers (<a href="https://biocontainers.pro/registry" target="_blank" rel="noopener noreferrer" class="">https://biocontainers.pro/registry</a>) is your first stop</strong> - most comprehensive bioinformatics registry</li>
<li class=""><strong>Seqera (<a href="https://seqera.io/containers/" target="_blank" rel="noopener noreferrer" class="">https://seqera.io/containers/</a>) for multi-tool combinations</strong> - modern approach for complex workflows</li>
<li class=""><strong>Build yourself only as last resort</strong> - but you now have the tools (Section 4) to do it well</li>
</ul></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/river-docs/blog/tags/docker">docker</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/river-docs/blog/tags/bioinformatics">bioinformatics</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/river-docs/blog/tags/bioconda">bioconda</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/river-docs/blog/tags/nextflow">nextflow</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/river-docs/blog/tags/best-practices">best-practices</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/river-docs/blog/unix-pipes-bioinformatics-streaming-data"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Unix Pipes in Bioinformatics: How Streaming Data Reduces Memory and Storage</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/river-docs/blog/bioinformatics-containers-build-efficient-docker"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Containers in Bioinformatics: Community Tooling and Efficient Docker Building</div></a></nav></main><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites-get-docker-installed-and-running" class="table-of-contents__link toc-highlight">Prerequisites: Get Docker Installed and Running</a><ul><li><a href="#start-here-first" class="table-of-contents__link toc-highlight">Start Here First</a></li><li><a href="#what-you-need-to-know" class="table-of-contents__link toc-highlight">What You Need to Know</a></li><li><a href="#about-this-blog" class="table-of-contents__link toc-highlight">About This Blog</a></li><li><a href="#prerequisites-checklist" class="table-of-contents__link toc-highlight">Prerequisites Checklist</a></li></ul></li><li><a href="#1-why-manual-installation-fails-the-old-way-vs-modern-containers" class="table-of-contents__link toc-highlight">1. Why Manual Installation Fails: The Old Way vs. Modern Containers</a><ul><li><a href="#the-modern-solution-containers-and-community-tooling" class="table-of-contents__link toc-highlight">The Modern Solution: Containers and Community Tooling</a></li></ul></li><li><a href="#2-using-docker-containers-for-bioinformatics-data-analysis" class="table-of-contents__link toc-highlight">2. Using Docker Containers for Bioinformatics Data Analysis</a><ul><li><a href="#example-run-fastqc-from-a-container" class="table-of-contents__link toc-highlight">Example: Run FastQC from a Container</a></li><li><a href="#running-containers-interactively" class="table-of-contents__link toc-highlight">Running Containers Interactively</a></li><li><a href="#debugging-and-inspecting-a-running-docker-container" class="table-of-contents__link toc-highlight">Debugging and Inspecting a Running Docker Container</a></li><li><a href="#entrypoint-and-overriding-commands" class="table-of-contents__link toc-highlight">ENTRYPOINT and Overriding Commands</a></li><li><a href="#running-containers-with-nextflow-inspecting-the-actual-docker-commands" class="table-of-contents__link toc-highlight">Running Containers with Nextflow: Inspecting the Actual Docker Commands</a><ul><li><a href="#where-nextflow-stores-docker-commands" class="table-of-contents__link toc-highlight">Where Nextflow Stores Docker Commands</a></li><li><a href="#viewing-the-actual-docker-command" class="table-of-contents__link toc-highlight">Viewing the Actual Docker Command</a></li><li><a href="#example-nextflow-docker-command-for-vep-variant-effect-predictor" class="table-of-contents__link toc-highlight">Example: Nextflow Docker Command for VEP (Variant Effect Predictor)</a></li><li><a href="#breaking-down-the-docker-command" class="table-of-contents__link toc-highlight">Breaking Down the Docker Command</a></li><li><a href="#re-running-a-failed-task-manually" class="table-of-contents__link toc-highlight">Re-Running a Failed Task Manually</a></li><li><a href="#key-nextflow-docker-features" class="table-of-contents__link toc-highlight">Key Nextflow Docker Features</a></li><li><a href="#profiling-and-optimization" class="table-of-contents__link toc-highlight">Profiling and Optimization</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></li><li><a href="#3-efficient-docker-container-building-for-bioinformatics" class="table-of-contents__link toc-highlight">3. Efficient Docker Container Building for Bioinformatics</a><ul><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li><li><a href="#minimal-example-install-a-tool" class="table-of-contents__link toc-highlight">Minimal Example: Install a Tool</a></li><li><a href="#multi-stage-build-example-build-from-source" class="table-of-contents__link toc-highlight">Multi-Stage Build Example: Build from Source</a></li><li><a href="#further-optimizations" class="table-of-contents__link toc-highlight">Further Optimizations</a></li></ul></li><li><a href="#4-building-docker-images-with-conda-and-micromamba" class="table-of-contents__link toc-highlight">4. Building Docker Images with Conda and Micromamba</a><ul><li><a href="#why-micromamba-for-docker-images" class="table-of-contents__link toc-highlight">Why Micromamba for Docker Images?</a></li><li><a href="#the-modern-approach-condayml--micromamba" class="table-of-contents__link toc-highlight">The Modern Approach: Conda.yml + Micromamba</a></li><li><a href="#understanding-the-dockerfile" class="table-of-contents__link toc-highlight">Understanding the Dockerfile</a></li><li><a href="#why-procps-ng-is-important-for-nextflow" class="table-of-contents__link toc-highlight">Why procps-ng is Important for Nextflow</a></li><li><a href="#complete-multi-tool-example" class="table-of-contents__link toc-highlight">Complete Multi-Tool Example</a></li><li><a href="#building-and-using-your-container" class="table-of-contents__link toc-highlight">Building and Using Your Container</a></li><li><a href="#advantages-of-this-approach" class="table-of-contents__link toc-highlight">Advantages of This Approach</a></li><li><a href="#saving-and-sharing-explicit-lock-files" class="table-of-contents__link toc-highlight">Saving and Sharing Explicit Lock Files</a></li><li><a href="#pixi-the-next-generation-tool-for-conda-based-containers" class="table-of-contents__link toc-highlight">Pixi: The Next Generation Tool for Conda-Based Containers</a></li></ul></li><li><a href="#5-finding-pre-built-containers-before-building-from-scratch" class="table-of-contents__link toc-highlight">5. Finding Pre-Built Containers: Before Building from Scratch</a><ul><li><a href="#the-container-search-strategy" class="table-of-contents__link toc-highlight">The Container Search Strategy</a></li><li><a href="#1-biocontainers-primary-source" class="table-of-contents__link toc-highlight">1. BioContainers (Primary Source)</a></li><li><a href="#2-seqera-containers-also-support-multi-tool-option" class="table-of-contents__link toc-highlight">2. Seqera Containers (Also support Multi-Tool Option)</a></li><li><a href="#3-when-to-build-from-scratch" class="table-of-contents__link toc-highlight">3. When to Build from Scratch</a></li><li><a href="#quick-reference-where-to-find-each-tool" class="table-of-contents__link toc-highlight">Quick Reference: Where to Find Each Tool</a></li><li><a href="#practical-workflow-search--pull--use" class="table-of-contents__link toc-highlight">Practical Workflow: Search ‚Üí Pull ‚Üí Use</a></li><li><a href="#best-practices-for-using-pre-built-containers" class="table-of-contents__link toc-highlight">Best Practices for Using Pre-Built Containers</a></li><li><a href="#summary-container-registry-decision-tree" class="table-of-contents__link toc-highlight">Summary: Container Registry Decision Tree</a></li></ul></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/river-docs/docs/overview">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/river-docs/blog">Blog</a></li><li class="footer__item"><a href="https://www.facebook.com/groups/1134438583997171" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/riverxdata/river" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://riverxdata.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">About RiverXData<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">¬© 2026 RiverXData</div></div></div></footer></div>
</body>
</html>