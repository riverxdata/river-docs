"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[596],{643:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Administration/Remote_server","title":"Remote Server","description":"What is SSH ?","source":"@site/docs/2.Administration/2.Remote_server.md","sourceDirName":"2.Administration","slug":"/Administration/Remote_server","permalink":"/river-docs/docs/Administration/Remote_server","draft":false,"unlisted":false,"editUrl":"https://github.com/riverxdata/docs/2.Administration/2.Remote_server.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Environment","permalink":"/river-docs/docs/Administration/Environment"},"next":{"title":"Overview","permalink":"/river-docs/docs/HPC/Slurm"}}');var t=s(4848),i=s(8453);const o={},l="Remote Server",a={},c=[{value:"<strong>Why Use a Remote Server or Cluster Instead of a Laptop?</strong>",id:"why-use-a-remote-server-or-cluster-instead-of-a-laptop",level:2},{value:"<strong>Illustration of Remote Server Setup</strong>",id:"illustration-of-remote-server-setup",level:3},{value:"<strong>1. Performance &amp; Scalability</strong>",id:"1-performance--scalability",level:3},{value:"<strong>2. Stability &amp; Reliability</strong>",id:"2-stability--reliability",level:3},{value:"<strong>3. Storage &amp; Data Management</strong>",id:"3-storage--data-management",level:3},{value:"<strong>4. Network &amp; Security</strong>",id:"4-network--security",level:3},{value:"<strong>5. Reproducibility &amp; Collaboration</strong>",id:"5-reproducibility--collaboration",level:3},{value:"<strong>How to Access the Remote Server</strong>",id:"how-to-access-the-remote-server",level:2},{value:"<strong>1. Login via SSH</strong>",id:"1-login-via-ssh",level:3},{value:"<strong>2. Using SSH Keys (Recommended)</strong>",id:"2-using-ssh-keys-recommended",level:3},{value:"<strong>3. Connecting via VPN (if required)</strong>",id:"3-connecting-via-vpn-if-required",level:3},{value:"<strong>Setting Up SSH Server on a Remote Machine</strong>",id:"setting-up-ssh-server-on-a-remote-machine",level:2},{value:"<strong>1. Install the SSH Server</strong>",id:"1-install-the-ssh-server",level:3},{value:"<strong>2. Enable and Start SSH Service</strong>",id:"2-enable-and-start-ssh-service",level:3},{value:"<strong>3. Configure the SSH Server (Optional)</strong>",id:"3-configure-the-ssh-server-optional",level:3},{value:"<strong>4. Allow SSH Through the Firewall</strong>",id:"4-allow-ssh-through-the-firewall",level:3},{value:"<strong>5. Verify SSH is Running</strong>",id:"5-verify-ssh-is-running",level:3},{value:"<strong>5. Advanced SSH Server Setup</strong>",id:"5-advanced-ssh-server-setup",level:3},{value:"<strong>Basic Commands for Remote Usage</strong>",id:"basic-commands-for-remote-usage",level:2},{value:"Check system resources:",id:"check-system-resources",level:3},{value:"Transfer files:",id:"transfer-files",level:3},{value:"<strong>SSH Tunneling</strong>",id:"ssh-tunneling",level:3},{value:"<strong>Remote Tunnel</strong>",id:"remote-tunnel",level:4},{value:"<strong>Local Tunnel</strong>",id:"local-tunnel",level:4},{value:"Submit jobs to a cluster (SLURM example):",id:"submit-jobs-to-a-cluster-slurm-example",level:3},{value:"<strong>Conclusion</strong>",id:"conclusion",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"remote-server",children:"Remote Server"})}),"\n",(0,t.jsx)(n.p,{children:"What is SSH ?"}),"\n",(0,t.jsx)("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",maxWidth:"100%",background:"#000"},children:(0,t.jsx)("iframe",{src:"https://www.youtube.com/embed/5JvLV2-ngCI",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}),"\n",(0,t.jsx)(n.h2,{id:"why-use-a-remote-server-or-cluster-instead-of-a-laptop",children:(0,t.jsx)(n.strong,{children:"Why Use a Remote Server or Cluster Instead of a Laptop?"})}),"\n",(0,t.jsx)(n.p,{children:"The server or cluster (the combinations of multiple servers (nodes)) that will allow to scheduled and executed parrallel tasks, sharing the resources via network.\nRunning computational workloads on a remote server or cluster is essential for performance, scalability, and reliability. Here\u2019s why:"}),"\n",(0,t.jsx)(n.h3,{id:"illustration-of-remote-server-setup",children:(0,t.jsx)(n.strong,{children:"Illustration of Remote Server Setup"})}),"\n",(0,t.jsx)("figure",{markdown:"span",children:(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"cluster",src:s(1469).A+"",width:"646",height:"288"})})}),"\n",(0,t.jsx)(n.h1,{id:"remote-server-usage-guide",children:(0,t.jsx)(n.strong,{children:"Remote Server Usage Guide"})}),"\n",(0,t.jsx)(n.h3,{id:"1-performance--scalability",children:(0,t.jsx)(n.strong,{children:"1. Performance & Scalability"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Remote servers have more ",(0,t.jsx)(n.strong,{children:"CPU cores, RAM, and GPU power"})," than a laptop."]}),"\n",(0,t.jsxs)(n.li,{children:["High-performance clusters (HPC) are optimized for ",(0,t.jsx)(n.strong,{children:"parallel processing"})," and large-scale computations."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"2-stability--reliability",children:(0,t.jsx)(n.strong,{children:"2. Stability & Reliability"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Local laptops can overheat, crash, or run out of memory during intensive tasks."}),"\n",(0,t.jsxs)(n.li,{children:["Remote servers ensure ",(0,t.jsx)(n.strong,{children:"continuous operation"})," without interruptions."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"3-storage--data-management",children:(0,t.jsx)(n.strong,{children:"3. Storage & Data Management"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Servers provide ",(0,t.jsx)(n.strong,{children:"large-scale storage"})," with fast read/write speeds."]}),"\n",(0,t.jsxs)(n.li,{children:["Data backups and ",(0,t.jsx)(n.strong,{children:"redundancy"})," prevent data loss."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"4-network--security",children:(0,t.jsx)(n.strong,{children:"4. Network & Security"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["High-speed networking enables ",(0,t.jsx)(n.strong,{children:"faster data transfers"})," and remote access."]}),"\n",(0,t.jsxs)(n.li,{children:["Servers are ",(0,t.jsx)(n.strong,{children:"secured and maintained"})," by IT teams, reducing the risk of system failure."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"5-reproducibility--collaboration",children:(0,t.jsx)(n.strong,{children:"5. Reproducibility & Collaboration"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Remote environments allow multiple users to work on ",(0,t.jsx)(n.strong,{children:"the same data and software"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Consistent software versions ensure ",(0,t.jsx)(n.strong,{children:"reproducible"})," research and analysis."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"how-to-access-the-remote-server",children:(0,t.jsx)(n.strong,{children:"How to Access the Remote Server"})}),"\n",(0,t.jsx)(n.h3,{id:"1-login-via-ssh",children:(0,t.jsx)(n.strong,{children:"1. Login via SSH"})}),"\n",(0,t.jsx)(n.p,{children:"To connect to the remote server, use SSH (Secure Shell) from your terminal:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ssh username@server_address\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Replace ",(0,t.jsx)(n.code,{children:"username"})," with your actual ",(0,t.jsx)(n.strong,{children:"username"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Replace ",(0,t.jsx)(n.code,{children:"server_address"})," with the ",(0,t.jsx)(n.strong,{children:"IP or domain name"})," of the server."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ssh user123@hpc.example.com\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-using-ssh-keys-recommended",children:(0,t.jsx)(n.strong,{children:"2. Using SSH Keys (Recommended)"})}),"\n",(0,t.jsx)(n.p,{children:"For password-less authentication, generate an SSH key pair and add your public key to the server:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ssh-keygen -t rsa -b 4096\nssh-copy-id username@server_address\n"})}),"\n",(0,t.jsx)(n.p,{children:"Now, you can log in without a password."}),"\n",(0,t.jsx)(n.h3,{id:"3-connecting-via-vpn-if-required",children:(0,t.jsx)(n.strong,{children:"3. Connecting via VPN (if required)"})}),"\n",(0,t.jsxs)(n.p,{children:["Some servers require a VPN connection for security. If so, connect using your institution's ",(0,t.jsx)(n.strong,{children:"VPN client"})," before SSH."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"setting-up-ssh-server-on-a-remote-machine",children:(0,t.jsx)(n.strong,{children:"Setting Up SSH Server on a Remote Machine"})}),"\n",(0,t.jsx)(n.p,{children:"If the remote machine does not have SSH configured, follow these steps:"}),"\n",(0,t.jsx)(n.h3,{id:"1-install-the-ssh-server",children:(0,t.jsx)(n.strong,{children:"1. Install the SSH Server"})}),"\n",(0,t.jsxs)(n.p,{children:["On most Linux distributions, install OpenSSH Server on ",(0,t.jsx)(n.strong,{children:"Ubuntu/Debian"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo apt update && sudo apt install -y openssh-server\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-enable-and-start-ssh-service",children:(0,t.jsx)(n.strong,{children:"2. Enable and Start SSH Service"})}),"\n",(0,t.jsx)(n.p,{children:"Ensure the SSH service is running and enabled at boot:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo systemctl enable ssh\nsudo systemctl start ssh\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-configure-the-ssh-server-optional",children:(0,t.jsx)(n.strong,{children:"3. Configure the SSH Server (Optional)"})}),"\n",(0,t.jsx)(n.p,{children:"Edit the SSH configuration file to improve security:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/ssh/sshd_config\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"If you want to allow for ssh service only, please do not open all ports via firewall."})}),"\n",(0,t.jsx)(n.p,{children:"Recommended settings:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Change the default port:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"Port 2222  # Change from 22 to a custom port\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Disable root login:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"PermitRootLogin no\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Allow only specific users:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"AllowUsers your_username\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Save the file and restart SSH:"}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"New configuration requires to restart ssh service"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart ssh\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-allow-ssh-through-the-firewall",children:(0,t.jsx)(n.strong,{children:"4. Allow SSH Through the Firewall"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Ubuntu/Debian"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow 22/tcp\nsudo ufw reload\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"CentOS/RHEL"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo firewall-cmd --add-service=ssh --permanent\nsudo firewall-cmd --reload\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"5-verify-ssh-is-running",children:(0,t.jsx)(n.strong,{children:"5. Verify SSH is Running"})}),"\n",(0,t.jsx)(n.p,{children:"Check the SSH service status:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo systemctl status ssh\n"})}),"\n",(0,t.jsx)(n.p,{children:"Or test from another machine:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ssh username@server_ip\n"})}),"\n",(0,t.jsx)(n.h3,{id:"5-advanced-ssh-server-setup",children:(0,t.jsx)(n.strong,{children:"5. Advanced SSH Server Setup"})}),"\n",(0,t.jsx)(n.p,{children:"Using only password authentication without restrictions on the number of attempts and sessions can expose the server to brute-force attacks. To enhance security, it is recommended to use OTP (One-Time Password) for the first login, followed by RSA key authentication for subsequent logins."}),"\n",(0,t.jsx)(n.p,{children:"For detailed instructions, refer to the following tutorials:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Setup the SSH Server"}),": This guide explains how to set up an SSH server in a Docker container, allowing for easy cleanup after use.\n",(0,t.jsx)(n.a,{href:"https://satvikakolisetty.medium.com/running-ssh-server-in-a-docker-container-55eb2a3add35",children:(0,t.jsx)(n.strong,{children:"Running SSH Server in a Docker Container"})})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Set Up 2FA"}),": This tutorial covers using Google Authenticator and other 2FA apps like Authy for two-factor authentication. Ensure to keep the QR code and the generated code from the last step to provide to new users along with their password.\n",(0,t.jsx)(n.a,{href:"https://goteleport.com/blog/ssh-2fa-tutorial/",children:(0,t.jsx)(n.strong,{children:"SSH 2FA Tutorial"})})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"basic-commands-for-remote-usage",children:(0,t.jsx)(n.strong,{children:"Basic Commands for Remote Usage"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"It requires to install ssh-client"})}),"\n",(0,t.jsx)(n.p,{children:"The ssh-client may not availble on your laptop. You can follow this to setup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo apt-get update -y && apt-get install openssh-client -y\n"})}),"\n",(0,t.jsx)(n.p,{children:"Once logged in, here are some useful commands:"}),"\n",(0,t.jsx)(n.h3,{id:"check-system-resources",children:"Check system resources:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"htop   # View CPU & memory usage\nnvidia-smi  # Check GPU status (if available)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"transfer-files",children:"Transfer files:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"scp localfile.txt username@server_address:/path/to/destination\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ssh-tunneling",children:(0,t.jsx)(n.strong,{children:"SSH Tunneling"})}),"\n",(0,t.jsxs)(n.p,{children:["SSH tunneling can be used to securely forward network traffic. There are two main types of tunnels: remote and local. Replace ",(0,t.jsx)(n.code,{children:"username"})," and ",(0,t.jsx)(n.code,{children:"domain"})," with your actual username and the domain of the server."]}),"\n",(0,t.jsx)(n.h4,{id:"remote-tunnel",children:(0,t.jsx)(n.strong,{children:"Remote Tunnel"})}),"\n",(0,t.jsx)(n.p,{children:"A remote tunnel forwards a port from the remote server to your local machine. This is useful when you want to access a service running on your local machine from the remote server."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ssh -N -R 9000:localhost:9999 username@domain\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example Use Case:"}),"\nYou have a Jupyter Notebook running on your local machine (port 9999) and you want to access it from the remote server on port 9000."]}),"\n",(0,t.jsx)(n.h4,{id:"local-tunnel",children:(0,t.jsx)(n.strong,{children:"Local Tunnel"})}),"\n",(0,t.jsx)(n.p,{children:"A local tunnel forwards a port from your local machine to the remote server. This is useful when you want to access a service running on the remote server from your local machine."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ssh -N -L 9000:localhost:9999 username@domain\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example Use Case:"}),"\nYou have a web application running on the local machine (port 9000) and you want to access it on the server using port 9999"]}),"\n",(0,t.jsx)(n.h3,{id:"submit-jobs-to-a-cluster-slurm-example",children:"Submit jobs to a cluster (SLURM example):"}),"\n",(0,t.jsx)(n.p,{children:"It is simple example on how to use SLURM, for details, follow HPC section"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Non interactive jobs: Job will be finished when completed or failed"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sbatch job_script.sh\nsqueue -u username  \n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Interactive job: Interact with a source directly via terminal. It is finished when timeout or termianted by users"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"srun --pty bash\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"conclusion",children:(0,t.jsx)(n.strong,{children:"Conclusion"})}),"\n",(0,t.jsxs)(n.p,{children:["Using a remote server ensures ",(0,t.jsx)(n.strong,{children:"faster processing, reliable storage, and scalable computing power"}),", making it the best choice for resource-intensive tasks. Always follow best practices for ",(0,t.jsx)(n.strong,{children:"security and efficient resource usage"}),"."]}),"\n",(0,t.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},1469:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/remote_server-8dd77a5f760e7d364bb93cda0db780d2.webp"},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var r=s(6540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);